# Variables de entorno para el proyecto TinkuBot Microservicios v2.0
# Copia este archivo a .env y rellena con tus valores reales

# ===========================================
# CONFIGURACIÓN SUPABASE
# ===========================================
# URL de tu proyecto Supabase
SUPABASE_URL=your-supabase-project-url

# API keys de Supabase
SUPABASE_BACKEND_API_KEY=your-supabase-backend-api-key
SUPABASE_SERVICE_KEY=your-supabase-service-role-key

# Configuración de Storage para sesiones de WhatsApp
SUPABASE_BUCKET_NAME=wa_sessions
SUPABASE_BUCKET_URL=your-supabase-storage-url
SUPABASE_BUCKET_REGION=your-bucket-region
SUPABASE_BUCKET_ACCESS_KEY=your-access-key
SUPABASE_BUCKET_SECRET_ACCESS_KEY=your-secret-access-key

# ===========================================
# CONFIGURACIÓN BASE DE DATOS
# ===========================================
# URL de conexión a PostgreSQL (para servicios Rust)
DATABASE_URL=postgresql://username:password@hostname:port/database
DB_MAX_CONNECTIONS=20
DB_MIN_CONNECTIONS=5
DB_CONNECT_TIMEOUT=30
DB_IDLE_TIMEOUT=600

# ===========================================
# CONFIGURACIÓN REDIS
# ===========================================
# URL de conexión a Redis
REDIS_URL=redis://localhost:6379
# Para Redis con Upstash (usar la URL completa con contraseña)
# REDIS_URL=rediss://:your-password@your-redis-host

# ===========================================
# CONFIGURACIÓN OPENAI
# ===========================================
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=150
OPENAI_TEMPERATURE=0.7

# ===========================================
# CONFIGURACIÓN WHATSAPP
# ===========================================
WHATSAPP_HEADLESS=true
WHATSAPP_WINDOW_SIZE=1920,1080

# ===========================================
# CONFIGURACIÓN DE PUERTOS (Según GESTION_PUERTOS.md)
# ===========================================

# Frontend y Dashboards (Serie 6000-6099)
FRONTEND_SERVICE_PORT=6002

# Agentes de IA - Python (Serie 5000-5099)
AI_SERVICE_CLIENTES_PORT=5001
AI_SERVICE_PROVEEDORES_PORT=5002

# Servicios WhatsApp (Serie 7000-7099)
WHATSAPP_CLIENTES_PORT=7001
WHATSAPP_PROVEEDORES_PORT=7002

# ===========================================
# CONFIGURACIÓN SERVICIOS WHATSAPP
# ===========================================

# URLs para comunicación entre servicios (para desarrollo local)
AI_SERVICE_CLIENTES_URL=http://localhost:5001
CLIENTES_AI_SERVICE_URL=http://localhost:5001
PROVEEDORES_AI_SERVICE_URL=http://localhost:5002

# ===========================================
# CONFIGURACIÓN INSTANCIAS
# ===========================================

# Bot Clientes
CLIENTES_WHATSAPP_PORT=7001
CLIENTES_INSTANCE_NAME=TinkuBot Clientes
CLIENTES_INSTANCE_ID=bot-clientes

# Bot Proveedores
PROVEEDORES_WHATSAPP_PORT=7002
PROVEEDORES_INSTANCE_NAME=TinkuBot Proveedores
PROVEEDORES_INSTANCE_ID=bot-proveedores

# ===========================================
# CONFIGURACIÓN SERVIDORES
# ===========================================
SERVER_HOST=0.0.0.0
SERVER_DOMAIN=localhost
REQUEST_TIMEOUT=30
IDLE_TIMEOUT=300

# Puertos específicos de servicios
CLIENTES_SERVER_PORT=5001
PROVEEDORES_SERVER_PORT=5002
ORCHESTRATOR_SERVER_PORT=5008

# ===========================================
# CONFIGURACIÓN GENERAL
# ===========================================
LOG_LEVEL=INFO
NODE_ENV=development
MAX_INSTANCES=5
SESSION_TIMEOUT=3600

# ===========================================
# CONFIGURACIÓN MONITOREO
# ===========================================
HEALTH_CHECK_INTERVAL=30
METRICS_ENABLED=true