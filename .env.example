# Variables de entorno para el proyecto TinkuBot Microservicios v2.0
# Copia este archivo a .env y rellena con tus valores reales

# ===========================================
# CONFIGURACIÓN SUPABASE
# ===========================================
# URL de tu proyecto Supabase
SUPABASE_URL=your-supabase-project-url

# API keys de Supabase
SUPABASE_BACKEND_API_KEY=your-supabase-backend-api-key
SUPABASE_SERVICE_KEY=your-supabase-service-role-key

# Configuración de Storage para sesiones de WhatsApp
SUPABASE_BUCKET_NAME=wa_sessions
SUPABASE_BUCKET_URL=your-supabase-storage-url
SUPABASE_BUCKET_REGION=your-bucket-region
SUPABASE_BUCKET_ACCESS_KEY=your-access-key
SUPABASE_BUCKET_SECRET_ACCESS_KEY=your-secret-access-key

# ===========================================
# CONFIGURACIÓN BASE DE DATOS
# ===========================================
# URL de conexión a PostgreSQL (para servicios Rust)
DATABASE_URL=postgresql://username:password@hostname:port/database
DB_MAX_CONNECTIONS=20
DB_MIN_CONNECTIONS=5
DB_CONNECT_TIMEOUT=30
DB_IDLE_TIMEOUT=600

# ===========================================
# CONFIGURACIÓN REDIS
# ===========================================
# URL de conexión a Redis
REDIS_URL=redis://localhost:6379
# Para Redis con Upstash (usar la URL completa con contraseña)
# REDIS_URL=rediss://:your-password@your-redis-host

# ===========================================
# CONFIGURACIÓN OPENAI
# ===========================================
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=150
OPENAI_TEMPERATURE=0.7

# ===========================================
# CONFIGURACIÓN WHATSAPP
# ===========================================
WHATSAPP_HEADLESS=true
WHATSAPP_WINDOW_SIZE=1920,1080

# ===========================================
# CONFIGURACIÓN DE PUERTOS (Nuevo esquema simplificado)
# ===========================================

# Frontend (Serie 5000-5099)
FRONTEND_SERVICE_PORT=5000

# Servicios WhatsApp - Node.js (Serie 5001-5099)
WHATSAPP_CLIENTES_PORT=5001
WHATSAPP_PROVEEDORES_PORT=5002

# Agentes de IA - Python (Serie 8000-8099)
SEARCH_TOKEN_PORT=8000
AI_SERVICE_CLIENTES_PORT=8001
AI_SERVICE_PROVEEDORES_PORT=8002

# ===========================================
# CONFIGURACIÓN SERVICIOS WHATSAPP
# ===========================================

# URLs para comunicación entre servicios (para desarrollo local)
SEARCH_TOKEN_URL=http://localhost:8000
AI_SERVICE_CLIENTES_URL=http://localhost:8001
CLIENTES_AI_SERVICE_URL=http://localhost:8001
PROVEEDORES_AI_SERVICE_URL=http://localhost:8002

# ===========================================
# CONFIGURACIÓN INSTANCIAS
# ===========================================

# Bot Clientes
CLIENTES_WHATSAPP_PORT=5001
CLIENTES_INSTANCE_NAME=TinkuBot Clientes
CLIENTES_INSTANCE_ID=bot-clientes

# Bot Proveedores
PROVEEDORES_WHATSAPP_PORT=5002
PROVEEDORES_INSTANCE_NAME=TinkuBot Proveedores
PROVEEDORES_INSTANCE_ID=bot-proveedores

# ===========================================
# CONFIGURACIÓN SERVIDORES
# ===========================================
SERVER_HOST=0.0.0.0
SERVER_DOMAIN=localhost
REQUEST_TIMEOUT=30
IDLE_TIMEOUT=300

# Puertos específicos de servicios
SEARCH_TOKEN_SERVER_PORT=8000
CLIENTES_SERVER_PORT=8001
PROVEEDORES_SERVER_PORT=8002
ORCHESTRATOR_SERVER_PORT=8008

# ===========================================
# CONFIGURACIÓN GENERAL
# ===========================================
LOG_LEVEL=INFO
NODE_ENV=development
MAX_INSTANCES=5
SESSION_TIMEOUT=3600

# ===========================================
# CONFIGURACIÓN MONITOREO
# ===========================================
HEALTH_CHECK_INTERVAL=30
METRICS_ENABLED=true

# ===========================================
# CONFIGURACIÓN SEARCH TOKEN SERVICE
# ===========================================
# Búsqueda
MAX_SEARCH_RESULTS=20
DEFAULT_SEARCH_LIMIT=10
SEARCH_TIMEOUT_MS=5000
CACHE_TTL_SECONDS=300

# API Search
SEARCH_API_HOST=0.0.0.0
SEARCH_API_PREFIX=/api/v1

# Métricas Search
SEARCH_METRICS_ENABLED=true
SEARCH_METRICS_PORT=9091